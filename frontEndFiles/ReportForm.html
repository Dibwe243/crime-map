<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


  <!--===TITLE====-->
  <title>reportForm</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

  <!--link bootstrap glyphicons-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <!-- ? <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
  <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->

  <!-- Add icon library -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!--We link our reportingStyle.css stylesheet-->
  <link rel="stylesheet" type="text/css" href="css/reportingStyle.css">
  <link rel="stylesheet" type="text/css" href="resources/css.mapStyle.css">
  <!-- <title>Reporting Page Gallery</title> -->
  <link href="resources/css/jquery.datetimepicker.css" rel="stylesheet">

  <style>
    .navbar-light .navbar-toggler {
      color: rgba(0, 0, 0, .5);
      border-color: white;
    }

    .h1,
    h1 {
      font-size: 1.25rem;
      background-color: #000000;
      height: 30px;
      margin-bottom: 10px;
      color: white;
    }


    #example1 {
      /* box-sizing: content-box; */
      /* width: 300px; */
      /* height: 100px; */
      /* padding: 30px; */
      border: 10px solid #afafe4;
      margin-top: -8px;
      margin-left: -15px;
      margin-right: -15px;
    }

    .parent {
      /* width: 50%; */
      border: 5px solid #E18728;
      height: 150px;
    }

    p {
      margin-top: 50px;
      margin-bottom: 1rem;
    }

    textarea {
      margin: 10px;
      font: inherit;
      color: inherit;
      max-width: 96%;
    }

    /*Commet Section */

    .glyphicon {
      position: relative;
      top: 10px;
      display: inline-block;
      font-family: 'Glyphicons Halflings';
      font-style: normal;
      font-weight: 400;
      line-height: 1;
      -webkit-font-smoothing: antialiased;
      font-size: 30px;
    }



    .btn-success {
      color: #fff;
      background-color: #5cb85c;
      border-color: #4cae4c;
      margin-top: 30px;
    }

    #sample {
      height: 49px;
      width: 100%;
      background-color: black;
      display: table;
      text-align: center;
      margin: auto;
    }


    .vertical {
      color: white;
      display: table-cell;
      vertical-align: middle;
    }

    .container {
      padding-right: 10px;
      padding-left: 10px;
      margin-right: auto;
      margin-left: auto;
      margin-top: 30px;
      max-width: 100% !important;
    }

    .form-control {
      display: block;
      width: 100%;
      height: 34px;
      padding: 6px 12px;
      font-size: 14px;
      line-height: 1.42857143;
      color: #555;
      background-color: #fff;
      background-image: none;
      border: 1px solid #ccc;
      border-radius: 4px;
      -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
      box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
      -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
      -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
      transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    }


    .fa {
      font-size: 30px28.0472537;
      width: 30px;
      text-align: center;
      text-decoration: none;
      margin: 5px 2px;
    }

    .fa:hover {
      opacity: 0.7;
    }

    /*.fa-facebook {
  background: #3B5998;
  color: white;
}
*/

    /*.fa-twitter {
  background: #55ACEE;
  color: white;
}*/

    .pac-container.pac-logo {
      z-index: 1051 !important;
    }

    div#map {
      position: relative;
      overflow: hidden;
      height: 30vh;
    }

    #map {
      height: 100%;
      width: 100%;
    }

    /* Optional: Makes the sample page fill the window. */

    .controls {
      background-color: #fff;
      border-radius: 2px;
      border: 1px solid transparent;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      box-sizing: border-box;
      font-family: Roboto;
      font-size: 15px;
      font-weight: 300;
      height: 29px;
      margin-left: auto;
      margin-top: 10px;
      outline: none;
      padding: 0 11px 0 13px;
      text-overflow: ellipsis;
      width: 93%;
    }

    .controls:focus {
      border-color: #4d90fe;
    }

    .title {
      font-weight: bold;
    }

    #infowindow-content {
      display: none;
    }

    #map #infowindow-content {
      display: inline;
    }

    /* @media (min-width: 768px) .container { width: 460px; } */
  </style>
</head>

<body>
  <div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
      <div class="panel panel-default">
        <div class="panel-heading">Location Response</div>
        <div class="panel-body">
          <p>Latitude: <input id="latitude" type="text" class="form-control" value="Retrieving latitude&hellip;" /></p>
          <p>Longitude: <input id="longitude" type="text" class="form-control" value="Retrieving longitude&hellip;" /></p>
          <div id="map-container"></div>
          <button onclick="saveInfo()">SAVE</button>
        </div>
      </div>
    </div>
    <!-- .col -->
  </div>
  <!-- .row -->

  <!-- <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script> -->
  <script>
    "use strict";

    $(document).ready(function() {


      // check if browser supports the geolocation api
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(success); // if geolocation supported, call function
      } else {
        $("#location").val('Your browser doesn\'t support the geolocation api.');
      }

      function success(position) {
        var latitude = position.coords.latitude; // set latitude variable
        var longitude = position.coords.longitude;
        console.log(latitude + '\n' + longitude); // set longitude variable

        var mapcanvas = document.createElement('div'); // create div to hold map
        mapcanvas.id = 'map'; // give this div an id of 'map'
        mapcanvas.style.height = '400px'; // set map height
        mapcanvas.style.width = '100%'; // set map width

        document.querySelector('#map-container').appendChild(mapcanvas); // place new div within the 'map-container' div

        var coords = new google.maps.LatLng(latitude, longitude); // set lat/long object for new map

        var options = { // set options for map
          zoom: 13,
          center: coords,
          mapTypeControl: false,
          navigationControlOptions: {
            style: google.maps.NavigationControlStyle.SMALL
          },
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        var map = new google.maps.Map(document.getElementById("map"), options); // create new map using settings above
        var marker = new google.maps.Marker({ // place a marker at our lat/long
          position: coords,
          map: map
        });

        var response = 'Latitude: ' + latitude + ' / Longitude: ' + longitude; // build string containing lat/long
        $("#latitude").val(latitude);
        $("#longitude").val(longitude); // write string to input field
      }

    });
  </script>


  <!--Jumbotron Main Heading 28 Maderson Street, Jeppestown-->
  <!--  <div id='sample'>
        <span class='vertical'>28 Maderson street, maboneng</span>
        </div> -->
  <!--End Jumbotron Main Heading 28 Maderson Street, Jeppestown-->



  <!-- Button trigger modal -->
  <section class="container-comment text-center">
    <button type="button" class="btn .btn-info" style="background-color: #269abc;  margin-top: -920px;;">
        <span data-target="#exampleModalCenter" data-toggle="modal" class="glyphicon glyphicon-bullhorn"></span>
      </button>
    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body">

            <div id='sample'>
              <span class='vertical'>Report Crime</span>
            </div>

            <!--======MAP WWITHIN MODAL WITH SEARCH BAR=======-->
            <div>
              <input id="pac-input" class="controls" type="search" placeholder="Enter a location">
              <div id="map"></div>
              <div id="infowindow-content">
                <span id="place-name" class="title"></span><br>Place ID<span id="place-id"></span><br>
                <span id="place-address"></span>
              </div>
            </div>
            <!--=========END OF MAP==============-->

          <!--======TIME AND DATE=====-->
            <div class="container-fluid">
              <div class="row" style="margin-right: -70px; margin-left: -15px;">
                <div class="col-md-6 col-sm-6">
                  <div class="row" style="text-align: center; margin-left: 30%;">
                    <input type="text" id="datetimepicker" placeholder="time and date" />
                    <!-- <button onclick="captureInput()">SUBMIT</button> -->
                  </div>
                </div>
              </div>
            </div>
            <br>
        <!--======END=====-->


    <!--=====ICONS====-->
            <div class="container-fluid">
              <div class="row" style="margin-left: -70px; margin-right: -15px;">
                <div class="col-md-6 col-sm-6">
                  Crime icons
                </div>
                <div class="col-md-6 col-sm-6">
                  <div>
                    <img src="resources/css/img/Murder.png" style="width:10%">
                    <img src="resources/css/img/Hijacking.png" style="width:10%">
                    <img src="resources/css/img/Assault.png" style="width:10%">
                    <img src="resources/css/img/Protests.png" style="width:10%">
                  </div>
                  <br>

                  <div>
                    <img src="resources/css/img/Burglary.png" style="width:10%">
                    <img src="resources/css/img/Mugging.png" style="width:10%">
                    <img src="resources/css/img/Rape.png" style="width:10%">
                    <img src="resources/css/img/SmashGrab.png" style="width:10%">
                  </div>
                </div>
              </div>
            </div>

            <div class="container">
              <div class="form-group">
                <label for="exampleFormControlTextarea3">Comment</label>
                <textarea class="form-control" id="exampleFormControlTextarea3" rows="7"></textarea>
              </div>
            </div>

            <section class="container-comment text-center">
              <!-- <span data-target="#exampleModalCenter" data-toggle="modal" class="glyphicon glyphicon-camera"></span> -->

              <div class="container">
                <div class="modal-content">
                  <div class="modal-header">
                    <h3 class="modal-title" id="exampleModalLongTitle">Upload Image</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"></span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form action="/action_page.php">
                      <input type="file" name="pic" accept="image/*">
                    </form>
                  </div>
            </section>



            <section class="submit text-center">
              <!-- <button type="button" class="btn btn-success form-control">Submit<button> -->
              <button type="button" class="btn btn-outline-success and-all-other-classes"><a href="ReportForm.html" style="color:inherit">Submit</a></button>
            </section>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
            <script src="resources/js/jquery.datetimepicker.full.js"></script>
            <script src="resources/js/capture.js"></script>
            <script>
              function initMap() {
                var map = new google.maps.Map(document.getElementById('map'), {
                  center: {
                    lat: -26.2094848,
                    lng: 28.0625152
                  },
                  zoom: 13
                });

                var input = document.getElementById('pac-input');

                var autocomplete = new google.maps.places.Autocomplete(input);
                autocomplete.bindTo('bounds', map);

                map.controls[google.maps.ControlPosition.TOP].push(input);

                var infowindow = new google.maps.InfoWindow();
                var infowindowContent = document.getElementById('infowindow-content');
                infowindow.setContent(infowindowContent);
                var marker = new google.maps.Marker({
                  map: map
                });
                marker.addListener('click', function() {
                  infowindow.open(map, marker);
                });

                autocomplete.addListener('place_changed', function() {
                  infowindow.close();
                  var place = autocomplete.getPlace();
                  if (!place.geometry) {
                    return;
                  }

                  if (place.geometry.viewport) {
                    map.fitBounds(place.geometry.viewport);
                  } else {
                    map.setCenter(place.geometry.location);
                    map.setZoom(17);
                  }

                  // Set the position of the marker using the place ID and location.
                  marker.setPlace({
                    placeId: place.place_id,
                    location: place.geometry.location
                  });
                  marker.setVisible(true);

                  infowindowContent.children['place-name'].textContent = place.name;
                  infowindowContent.children['place-id'].textContent = place.place_id;
                  infowindowContent.children['place-address'].textContent =
                    place.formatted_address;
                  infowindow.open(map, marker);
                });
              }
            </script>
            <script>
              $("#datetimepicker").datetimepicker();
            </script>

            <!--=========SCRIPT WITH WORKING API KEY - GOOGLE MAPS=========-->
            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC1wMaYczjQps-ZoZqbkLmI5rMNcC_ROwQ&libraries=places&callback=initMap" async defer></script>

            <!-- Optional JavaScript -->
            <!-- jQuery first, then Popper.js, then Bootstrap JS -->
            <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>

</html>
