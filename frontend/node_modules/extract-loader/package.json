{
  "_from": "extract-loader",
  "_id": "extract-loader@3.1.0",
  "_inBundle": false,
  "_integrity": "sha512-baiz/xalbyQJOTHwcMJKXYsHbhEHGWQ2loK26vqZVoqO6eeinrnSrMx9681pNZgGRqz2L/PsyNxz+PVDiSmNPg==",
  "_location": "/extract-loader",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "extract-loader",
    "fetchSpec": "latest",
    "name": "extract-loader",
    "raw": "extract-loader",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#DEV:/",
    "#USER"
  ],
  "_resolved": "https://registry.npmjs.org/extract-loader/-/extract-loader-3.1.0.tgz",
  "_shasum": "d4b5fe517b9d28f035852602caeb4a215ea41dc3",
  "_shrinkwrap": null,
  "_spec": "extract-loader",
  "_where": "/Users/dibwekalangu/crime-map",
  "author": {
    "email": "developers@peerigon.com",
    "name": "peerigon"
  },
  "bugs": {
    "url": "https://github.com/peerigon/extract-loader/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "babel-runtime": "^6.26.0",
    "btoa": "^1.2.1",
    "loader-utils": "^1.1.0",
    "resolve": "^1.8.1"
  },
  "deprecated": false,
  "description": "webpack loader to extract HTML and CSS from the bundle",
  "devDependencies": {
    "babel-cli": "^6.26.0",
    "babel-plugin-istanbul": "^5.0.1",
    "babel-plugin-transform-runtime": "^6.23.0",
    "babel-preset-env": "^1.7.0",
    "babel-register": "^6.26.0",
    "chai": "^4.1.0",
    "chai-fs": "^2.0.0",
    "cross-env": "^5.2.0",
    "css-loader": "^1.0.0",
    "eslint": "^5.4.0",
    "eslint-config-peerigon": "^15.0.2",
    "file-loader": "^2.0.0",
    "html-loader": "^0.5.5",
    "mocha": "^5.2.0",
    "nyc": "^13.0.1",
    "rimraf": "^2.6.2",
    "standard-version": "^4.4.0",
    "style-loader": "^0.23.0",
    "webpack": "^4.17.1",
    "webpack-command": "^0.4.1"
  },
  "engines": {
    "node": ">= 6.0.0"
  },
  "files": [
    "lib"
  ],
  "homepage": "https://github.com/peerigon/extract-loader#readme",
  "keywords": [
    "css",
    "extract",
    "html",
    "loader",
    "webpack"
  ],
  "license": "Unlicense",
  "main": "lib/extractLoader.js",
  "name": "extract-loader",
  "optionalDependencies": {},
  "readme": "extract-loader\n==============\n**webpack loader to extract HTML and CSS from the bundle.**\n\n[![](https://img.shields.io/npm/v/extract-loader.svg)](https://www.npmjs.com/package/extract-loader)\n[![](https://img.shields.io/npm/dm/extract-loader.svg)](https://www.npmjs.com/package/extract-loader)\n[![Dependency Status](https://david-dm.org/peerigon/extract-loader.svg)](https://david-dm.org/peerigon/extract-loader)\n[![Build Status](https://travis-ci.org/peerigon/extract-loader.svg?branch=master)](https://travis-ci.org/peerigon/extract-loader)\n[![Coverage Status](https://img.shields.io/coveralls/peerigon/extract-loader.svg)](https://coveralls.io/r/peerigon/extract-loader?branch=master)\n\nThe extract-loader evaluates the given source code on the fly and returns the result as string. Its main use-case is to resolve urls within HTML and CSS coming from their respective loaders. Use the [file-loader](https://github.com/webpack/file-loader) to emit the extract-loader's result as separate file.\n\n```javascript\nimport stylesheetUrl from \"file-loader!extract-loader!css-loader!main.css\";\n// stylesheetUrl will now be the hashed url to the final stylesheet\n```\n\nThe extract-loader works similar to the [extract-text-webpack-plugin](https://github.com/webpack/extract-text-webpack-plugin) and the [mini-css-extract-plugin](https://github.com/webpack-contrib/mini-css-extract-plugin) and is meant as a lean alternative to it. When evaluating the source code, it provides a fake context which was especially designed to cope with the code generated by the [html-](https://github.com/webpack/html-loader) or the [css-loader](https://github.com/webpack/css-loader). Thus it might not work in other situations.\n\n<br>\n\nInstallation\n------------------------------------------------------------------------\n\n`npm install extract-loader`\n\n<br>\n\nExamples\n------------------------------------------------------------------------\n\n### [Extracting a main.css](https://github.com/peerigon/extract-loader/tree/master/examples/main-css)\n\nBundling CSS with webpack has some nice advantages like referencing images and fonts with hashed urls or [hot module replacement](https://webpack.js.org/concepts/hot-module-replacement) in development. In production, on the other hand, it's not a good idea to apply your stylesheets depending on JS execution. Rendering may be delayed or even a [FOUC](https://en.wikipedia.org/wiki/Flash_of_unstyled_content) might be visible. Thus it's still better to have them as separate files in your final production build.\n\nWith the extract-loader, you are able to reference your `main.css` as regular `entry`. The following `webpack.config.js` shows how to load your styles with the [style-loader](https://github.com/webpack/style-loader) in development and as separate file in production.\n\n```js\nmodule.exports = ({ mode }) => {\n    const pathToMainCss = require.resolve(\"./app/main.css\");\n    const loaders = [{\n        loader: \"css-loader\",\n        options: {\n            sourceMap: true\n        }\n    }];\n\n    if (mode === \"production\") {\n        loaders.unshift(\n            \"file-loader\",\n            \"extract-loader\"\n        );\n    } else {\n        loaders.unshift(\"style-loader\");\n    }\n\n    return {\n        mode,\n        entry: pathToMainCss,\n        module: {\n            rules: [\n                {\n                    test: pathToMainCss,\n                    loaders: loaders\n                },\n            ]\n        }\n    };\n};\n```\n\n### [Extracting the index.html](https://github.com/peerigon/extract-loader/tree/master/examples/index-html)\n\nYou can even add your `index.html` as `entry` and just reference your stylesheets from there. You just need to tell the html-loader to also pick up `link:href`:\n\n```js\nmodule.exports = ({ mode }) => {\n    const pathToMainJs = require.resolve(\"./app/main.js\");\n    const pathToIndexHtml = require.resolve(\"./app/index.html\");\n\n    return {\n        mode,\n        entry: [\n            pathToMainJs,\n            pathToIndexHtml\n        ],\n        module: {\n            rules: [\n                {\n                    test: pathToIndexHtml,\n                    use: [\n                        \"file-loader\",\n                        \"extract-loader\",\n                        {\n                            loader: \"html-loader\",\n                            options: {\n                                attrs: [\"img:src\", \"link:href\"]\n                            }\n                        }\n                    ]\n                },\n                {\n                    test: /\\.css$/,\n                    use: [\n                        \"file-loader\",\n                        \"extract-loader\",\n                        {\n                            loader: \"css-loader\",\n                            options: {\n                                sourceMap: true\n                            }\n                        }\n                    ]\n                },\n                {\n                    test: /\\.jpg$/,\n                    use: \"file-loader\"\n                }\n            ]\n        }\n    };\n}\n```\n\nturns\n\n```html\n<html>\n<head>\n    <link href=\"main.css\" type=\"text/css\" rel=\"stylesheet\">\n</head>\n<body>\n    <img src=\"hi.jpg\">\n</body>\n</html>\n```\n\ninto\n\n\n```html\n<html>\n<head>\n    <link href=\"7c57758b88216530ef48069c2a4c685a.css\" type=\"text/css\" rel=\"stylesheet\">\n</head>\n<body>\n    <img src=\"6ac05174ae9b62257ff3aa8be43cf828.jpg\">\n</body>\n</html>\n```\n\n<br>\n\nSource Maps\n------------------------------------------------------------------------\n\nIf you want source maps in your extracted CSS files, you need to set the [`sourceMap` option](https://github.com/webpack-contrib/css-loader#sourcemap) of the **css-loader**:\n\n```js\n    {\n        loader: \"css-loader\",\n        options: {\n            sourceMap: true\n        }\n    }\n```\n\n<br>\n\nOptions\n------------------------------------------------------------------------\n\nThere is currently exactly one option: `publicPath`.\nIf you are using a relative `publicPath` in webpack's [output options](https://webpack.js.org/configuration/output/#output-publicpath) and extracting to a file with the `file-loader`, you might need this to account for the location of your extracted file. `publicPath` may be defined as a string or a function that accepts current [loader context](https://webpack.js.org/api/loaders/#the-loader-context) as single argument.\n\nExample with publicPath option as a string:\n\n```js\nmodule.exports = {\n    output: {\n        path: path.resolve(\"./dist\"),\n        publicPath: \"dist/\"\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                use: [\n                    {\n                        loader: \"file-loader\",\n                        options: {\n                            name: \"assets/[name].[ext]\",\n                        },\n                    },\n                    {\n                        loader: \"extract-loader\",\n                        options: {\n                            publicPath: \"../\",\n                        }\n                    },\n                    {\n                        loader: \"css-loader\",\n                    },\n                ],\n            }\n        ]\n    }\n};\n```\n\nExample with publicPath option as a function:\n\n```js\nmodule.exports = {\n    output: {\n        path: path.resolve(\"./dist\"),\n        publicPath: \"dist/\"\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                use: [\n                    {\n                        loader: \"file-loader\",\n                        options: {\n                            name: \"assets/[name].[ext]\",\n                        },\n                    },\n                    {\n                        loader: \"extract-loader\",\n                        options: {\n                            // dynamically return a relative publicPath based on how deep in directory structure the loaded file is in /src/ directory\n                            publicPath: (context) => '../'.repeat(path.relative(path.resolve('src'), context.context).split('/').length),\n                        }\n                    },\n                    {\n                        loader: \"css-loader\",\n                    },\n                ],\n            }\n        ]\n    }\n};\n```\n\nYou need another option? Then you should think about:\n\n<br>\n\nContributing\n------------------------------------------------------------------------\n\nFrom opening a bug report to creating a pull request: **every contribution is appreciated and welcome**. If you're planing to implement a new feature or change the api please create an issue first. This way we can ensure that your precious work is not in vain.\n\nAll pull requests should have 100% test coverage (with notable exceptions) and need to pass all tests.\n\n- Call `npm test` to run the unit tests\n- Call `npm run coverage` to check the test coverage (using [istanbul](https://github.com/gotwarlost/istanbul))\n\n<br>\n\nLicense\n------------------------------------------------------------------------\n\nUnlicense\n\nSponsors\n------------------------------------------------------------------------\n\n[<img src=\"https://assets.peerigon.com/peerigon/logo/peerigon-logo-flat-spinat.png\" width=\"150\" />](https://peerigon.com)\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/peerigon/extract-loader.git"
  },
  "scripts": {
    "build": "babel src -d lib",
    "posttest": "eslint src test",
    "prepublishOnly": "npm test",
    "release": "standard-version",
    "test": "cross-env NODE_ENV=test nyc mocha -R spec"
  },
  "version": "3.1.0"
}
